{
  "rules": [
    {
      "type": "prd",
      "content": "# 타임박스 집중 관리 웹·모바일 서비스 PRD\n\n## 1. 서비스 개요\n시간을 블록 단위로 계획·실행·검토하게 해 주는 가벼운 웹 기반 타임박싱 도구. 데스크톱에서 계획을 세우고, 모바일에서 타이머·알람을 받아 흐름을 지키도록 지원한다.\n\n## 2. 문제 정의\n1. 사용자는 타임박스를 만들어도 알람·리마인드 부족으로 계획을 지키지 못한다.\n2. 집중·휴식 주기를 놓쳐 과로하거나 금세 지친다.\n3. 실천 데이터를 쉽게 확인할 수 없어 동기 부여가 약하다.\n\n## 3. 사용자 목표\n계획한 타임박스를 90% 이상 지켜 업무·학습 효율을 높이고, 집중/휴식 사이클을 건강하게 유지한다.\n\n## 4. 대상 사용자\n• 집중력을 높이고 싶은 직장인\n• 학습 시간을 관리하려는 대학생\n• 프로젝트 단위로 일하는 프리랜서\n\n## 5. 핵심 가치 제안\n“60초 만에 만든 타임박스를 모바일 알람으로 지키고, 하루·주간 리포트로 성과를 시각화합니다.”\n\n## 6. 주요 기능 (MVP)\n1. 빠른 타임박스 일정 생성\n   - 드래그 앤 드롭 또는 자연어 입력\n2. 집중 타이머 / 카운트다운\n   - 현재 타임박스 실시간 진행률 표시\n3. 알람 & 휴식 리마인더\n   - 시작 5분 전, 종료 알림, 휴식 시간 알림(1시간 집중 기준 5~10분 휴식)\n4. 데일리·위클리 사용 리포트\n   - 계획 대비 완료 비율, 총 집중 시간, 집중 패턴 그래프\n5. 멀티 디바이스 지원\n   - 데스크톱·모바일 브라우저 완전 대응, 데이터 실시간 동기화\n\n## 7. 비기능 요구사항\n• 반응형 웹(Desktop ≥1280px, Mobile ≥360px)\n• 페이지 로딩 3초 이내\n• 알람: PWA Push 및 브라우저 Notification API\n• 데이터 보관: Supabase PostgreSQL, Region: ap-northeast-1\n• 개인정보 및 GDPR/PIPA 준수\n\n## 8. 성공 지표 (MVP 기준)\n• Activation: 가입자의 60%가 첫 주 내 타임박스 3개 이상 생성\n• Adherence: 평균 55% 이상 타임박스 완료율\n• Retention: 주간 재방문율 40% 이상\n• NPS: 30 이상\n\n## 9. 출시 범위 & 로드맵\n| 단계 | 기간 | 범위 |\n|------|------|------|\n|M0-M3|MVP 개발·내부 테스트|기능 1~5, 기본 이메일 로그인|\n|M3-M4|Closed Beta 50명|버그 수정, UX 개선|\n|M4-M6|Open Beta 500명|주간 리포트 이메일, PWA 설치 옵션|\n|M6|정식 출시|과금 모델 도입(프리미엄 구독) |\n\n## 10. 수익 모델\n프리미엄 구독 ₩5,900/월\n• 무제한 타임박스(무료 20개/주)\n• 고급 리포트(월간 트렌드·PDF 내보내기)\n• 캘린더 연동(Google/Outlook)\n\n## 11. 경쟁 우위\n• 60초 온보딩과 웹·모바일 동시 사용으로 진입장벽 최소화\n• 집중/휴식 자동 알람으로 ‘실행’에 집중한 구조\n• 경쟁 대비 40~70% 저렴한 가격\n\n## 12. 리스크 & 완화 전략\n| 리스크 | 완화 |\n|---------|------|\n|초기 정착률 저조|1·3·7일차 알림, 주간 리포트로 습관 형성|\n|캘린더 연동 오류|MVP 단계에서는 연동 제외, 정식 출시 전에 충분한 베타 테스트|\n|브라우저 알림 제한|PWA 설치 유도, 이메일/모바일 푸시 병행|\n\n## 13. 개발 전략\nAgile MVP → 사용자 피드백 반영 2주 스프린트. 핵심 지표 달성 시에만 기능 확대.\n\n---\n문서 작성일: 2026-01-08",
      "writedAt": "2026-01-08T02:40:30.460Z"
    },
    {
      "type": "architecture",
      "content": "Of course. As a senior technical architect, my focus is on creating a specification that is immediately actionable, removes unnecessary complexity, and aligns directly with the MVP goals outlined in the PRD.\n\nHere is the complete, refined Technical Requirements Document (TRD).\n\n---\n\n# **Technical Requirements Document (TRD): Timebox Service MVP**\n\n## 1. Overview\n\nThis document specifies the technical architecture for a responsive web application designed for timeboxing, as defined in the PRD. The architecture prioritizes rapid development, scalability, and a seamless multi-device user experience by leveraging a modern, server-centric stack with a Backend-as-a-Service (BaaS) provider.\n\n## 2. Core Technology Stack (MVP)\n\n| Category                  | Technology                                  | Justification                                                                                                |\n| ------------------------- | ------------------------------------------- | ------------------------------------------------------------------------------------------------------------ |\n| **Framework**             | Next.js 15 (App Router)                     | Full-stack capabilities for UI and API, enabling rapid development. Server Components enhance initial load performance. |\n| **Backend-as-a-Service**  | Supabase                                    | Provides Auth, PostgreSQL Database, and Realtime sync out-of-the-box, covering all core backend needs for the MVP. |\n| **Styling**               | Tailwind CSS + shadcn/ui                    | Utility-first CSS for rapid, consistent UI development. shadcn/ui provides accessible, unstyled component primitives. |\n| **Data Fetching / State** | TanStack Query (`@tanstack/react-query`)    | Manages server state, caching, and data synchronization, simplifying data flow between client and server.     |\n| **Language**              | TypeScript                                  | Ensures type safety and improves code maintainability.                                                       |\n\n**Removed from original proposal:**\n*   **Hono.js:** Unnecessary complexity. Next.js Route Handlers are sufficient for the API needs of the MVP.\n*   **Stripe:** Out of scope for the MVP. Integration will be planned post-beta.\n\n## 3. System Architecture\n\nThe system is a monolithic Next.js application, simplifying deployment and development.\n\n*   **Frontend:** A responsive single-page application built with Next.js and React. It will utilize Server Components for static content and Client Components for interactive elements like the timer and calendar interface.\n*   **Backend API:** Simple RESTful endpoints will be implemented using Next.js Route Handlers. All business logic will reside within these handlers or be abstracted into a shared `/lib` directory.\n*   **Database:** A managed Supabase PostgreSQL instance located in `ap-northeast-1` (Seoul).\n*   **Authentication:** Supabase Auth will handle user identity. The MVP will support **Email/Password** authentication only. Client-side session management will use Supabase's helpers.\n*   **Real-time Sync:** To meet the multi-device sync requirement, the application will use **Supabase Realtime Subscriptions**. When a timebox is created or updated on one device, other active clients subscribed to the user's data will receive the update instantly.\n\n## 4. Data Schema (Supabase PostgreSQL)\n\nThe database schema is designed to be minimal for the MVP. Reports will be computed on-demand from the `timeboxes` table, not stored separately.\n\n**Table: `profiles`**\n*   Mirrors the `auth.users` table for public user data.\n*   `id` (uuid, Primary Key, Foreign Key to `auth.users.id`)\n*   `email` (varchar)\n*   `created_at` (timestamp with time zone)\n\n**Table: `timeboxes`**\n*   The core entity for all user plans.\n*   `id` (uuid, Primary Key)\n*   `user_id` (uuid, Foreign Key to `auth.users.id`)\n*   `title` (text, not null)\n*   `start_time` (timestamp with time zone, not null)\n*   `end_time` (timestamp with time zone, not null)\n*   `status` (enum: `planned`, `completed`, `missed`), default: `'planned'`\n*   `created_at` (timestamp with time zone)\n\n## 5. API Endpoint Specification (MVP)\n\nAll endpoints are protected and require user authentication.\n\n| Method | Endpoint                  | Description                                            |\n| ------ | ------------------------- | ------------------------------------------------------ |\n| `POST` | `/api/timeboxes`          | Creates a new timebox for the authenticated user.      |\n| `GET`  | `/api/timeboxes`          | Retrieves timeboxes for a given date range (e.g., day, week). |\n| `PUT`  | `/api/timeboxes/[id]`     | Updates a timebox (e.g., changes title, time, or status). |\n| `DELETE`| `/api/timeboxes/[id]`     | Deletes a timebox.                                     |\n| `GET`  | `/api/reports`            | Computes and returns report data (e.g., completion rate, total time). |\n\n## 6. Key Feature Implementation Notes\n\n*   **Timebox Creation:** The UI will support a drag-and-drop calendar view. The \"natural language\" input will be a simplified parser for MVP (e.g., \"Meeting 2pm-3pm\") rather than a complex NLP engine.\n*   **Timer & Notifications:**\n    *   The countdown timer's state will be managed client-side. To ensure accuracy when the tab is inactive, a **Web Worker** will be used to manage the timer logic.\n    *   Notifications will be implemented using the **Browser Notification API**. PWA push notifications are a post-MVP enhancement. The app will request notification permission upon the user's first timer interaction.\n*   **Responsive Design:** The layout will be mobile-first, targeting a minimum viewport of `360px`. A separate desktop layout will be applied at viewports `1280px` and wider using Tailwind CSS breakpoints.\n\n## 7. Simplified Directory Structure\n\nThis structure is feature-oriented, aligns with Next.js App Router conventions, and avoids premature abstraction.\n\n```\n/\n├── public/                     # Static assets (images, fonts)\n├── src/\n│   ├── app/                    # Next.js App Router\n│   │   ├── (auth)/             # Route group for auth pages\n│   │   │   ├── login/\n│   │   │   └── signup/\n│   │   ├── (main)/             # Route group for authenticated app core\n│   │   │   ├── dashboard/      # Main timebox view\n│   │   │   │   ├── _components/  # Components specific to the dashboard\n│   │   │   │   └── page.tsx\n│   │   │   └── reports/        # Reports view\n│   │   │       └── page.tsx\n│   │   ├── api/                # API Route Handlers\n│   │   │   └── [route]/\n│   │   │       └── route.ts\n│   │   ├── layout.tsx          # Root layout\n│   │   └── page.tsx            # Landing page\n│   ├── components/             # Shared UI components (e.g., Button, Dialog)\n│   │   └── ui/                 # shadcn/ui components\n│   └── lib/                    # Shared utilities, configs, and clients\n│       ├── supabase/           # Supabase client instances (client, server)\n│       └── utils.ts            # Global utility functions\n└── supabase/\n    └── migrations/             # Database migration files\n```",
      "writedAt": "2026-01-08T02:40:30.460Z"
    },
    {
      "type": "guideline",
      "content": "\n    # Senior Developer Guidelines\n    \n    ## Must\n    \n    - always use client component for all components. (use `use client` directive)\n    - always use promise for page.tsx params props.\n    - use valid picsum.photos stock image for placeholder image\n    \n    ## Library\n    \n    use following libraries for specific functionalities:\n    \n    1. `date-fns`: For efficient date and time handling.\n    2. `ts-pattern`: For clean and type-safe branching logic.\n    3. `@tanstack/react-query`: For server state management.\n    4. `zustand`: For lightweight global state management.\n    5. `react-use`: For commonly needed React hooks.\n    6. `es-toolkit`: For robust utility functions.\n    7. `lucide-react`: For customizable icons.\n    8. `zod`: For schema validation and data integrity.\n    9. `shadcn-ui`: For pre-built accessible UI components.\n    10. `tailwindcss`: For utility-first CSS styling.\n    11. `supabase`: For a backend-as-a-service solution.\n    12. `react-hook-form`: For form validation and state management.\n    \n    ## Directory Structure\n    \n    - src\n    - src/app: Next.js App Routers\n    - src/components/ui: shadcn-ui components\n    - src/constants: Common constants\n    - src/hooks: Common hooks\n    - src/lib: utility functions\n    - src/remote: http client\n    - src/features/[featureName]/components/*: Components for specific feature\n    - src/features/[featureName]/constants/*\n    - src/features/[featureName]/hooks/*\n    - src/features/[featureName]/lib/*\n    - src/features/[featureName]/api.ts: api fetch functions\n    \n    ## Solution Process:\n    \n    1. Rephrase Input: Transform to clear, professional prompt.\n    2. Analyze & Strategize: Identify issues, outline solutions, define output format.\n    3. Develop Solution:\n       - \"As a senior-level developer, I need to [rephrased prompt]. To accomplish this, I need to:\"\n       - List steps numerically.\n       - \"To resolve these steps, I need the following solutions:\"\n       - List solutions with bullet points.\n    4. Validate Solution: Review, refine, test against edge cases.\n    5. Evaluate Progress:\n       - If incomplete: Pause, inform user, await input.\n       - If satisfactory: Proceed to final output.\n    6. Prepare Final Output:\n       - ASCII title\n       - Problem summary and approach\n       - Step-by-step solution with relevant code snippets\n       - Format code changes:\n        ```language:path/to/file\n         // ... existing code ...\n         function exampleFunction() {\n             // Modified or new code here\n         }\n         // ... existing code ...\n         ```\n       - Use appropriate formatting\n       - Describe modifications\n       - Conclude with potential improvements\n    \n    ## Key Mindsets:\n    \n    1. Simplicity\n    2. Readability\n    3. Maintainability\n    4. Testability\n    5. Reusability\n    6. Functional Paradigm\n    7. Pragmatism\n    \n    ## Code Guidelines:\n    \n    1. Early Returns\n    2. Conditional Classes over ternary\n    3. Descriptive Names\n    4. Constants > Functions\n    5. DRY\n    6. Functional & Immutable\n    7. Minimal Changes\n    8. Pure Functions\n    9. Composition over inheritance\n    \n    ## Functional Programming:\n    \n    - Avoid Mutation\n    - Use Map, Filter, Reduce\n    - Currying and Partial Application\n    - Immutability\n    \n    ## Code-Style Guidelines\n    \n    - Use TypeScript for type safety.\n    - Follow the coding standards defined in the ESLint configuration.\n    - Ensure all components are responsive and accessible.\n    - Use Tailwind CSS for styling, adhering to the defined color palette.\n    - When generating code, prioritize TypeScript and React best practices.\n    - Ensure that any new components are reusable and follow the existing design patterns.\n    - Minimize the use of AI generated comments, instead use clearly named variables and functions.\n    - Always validate user inputs and handle errors gracefully.\n    - Use the existing components and pages as a reference for the new components and pages.\n    \n    ## Performance:\n    \n    - Avoid Premature Optimization\n    - Profile Before Optimizing\n    - Optimize Judiciously\n    - Document Optimizations\n    \n    ## Comments & Documentation:\n    \n    - Comment function purpose\n    - Use JSDoc for JS\n    - Document \"why\" not \"what\"\n    \n    ## Function Ordering:\n    \n    - Higher-order functionality first\n    - Group related functions\n    \n    ## Handling Bugs:\n    \n    - Use TODO: and FIXME: comments\n    \n    ## Error Handling:\n    \n    - Use appropriate techniques\n    - Prefer returning errors over exceptions\n    \n    ## Testing:\n    \n    - Unit tests for core functionality\n    - Consider integration and end-to-end tests\n    \n    ## Next.js\n    \n    - you must use promise for page.tsx params props.\n    \n    ## Shadcn-ui\n    \n    - if you need to add new component, please show me the installation instructions. I'll paste it into terminal.\n    - example\n      ```\n      $ npx shadcn@latest add card\n      $ npx shadcn@latest add textarea\n      $ npx shadcn@latest add dialog\n      ```\n    \n    ## Supabase\n    \n    - if you need to add new table, please create migration. I'll paste it into supabase.\n    - do not run supabase locally\n    - store migration query for `.sql` file. in /supabase/migrations/\n    \n    ## Package Manager\n    \n    - use npm as package manager.\n    \n    ## Korean Text\n    \n    - 코드를 생성한 후에 utf-8 기준으로 깨지는 한글이 있는지 확인해주세요. 만약 있다면 수정해주세요.\n    \n    You are a senior full-stack developer, one of those rare 10x devs. Your focus: clean, maintainable, high-quality code.\n    Apply these principles judiciously, considering project and team needs.\n      ",
      "writedAt": "2026-01-08T02:40:30.460Z"
    },
    {
      "type": "design-guide",
      "content": "# 타임박스 집중 관리 서비스 Design Guide\n\n## 1. 전체적인 무드 (Overall Mood)\n\n본 서비스는 **신뢰할 수 있고 전문적인(Trustworthy & Professional)** 분위기를 기반으로 합니다. 사용자가 집중과 생산성을 추구하는 도구로서, 차분하고 안정적인 느낌을 주면서도 현대적이고 세련된 인상을 전달합니다. \n\n딥 블루를 중심으로 한 색상 팔레트는 집중력과 신뢰성을 상징하며, 미니멀한 디자인 언어를 통해 사용자가 본질적인 기능에 집중할 수 있도록 돕습니다. 전문가와 초보자 모두가 편안하게 사용할 수 있는 균형잡힌 인터페이스를 지향합니다.\n\n## 2. 참조 서비스 (Reference Service)\n\n- **이름**: Linear\n- **설명**: 현대적인 이슈 트래킹 및 프로젝트 관리 도구\n- **디자인 무드**: 미니멀하고 전문적이며, 높은 생산성을 지원하는 깔끔한 인터페이스\n- **Primary Color**: #1E2A38 (딥 네이비)\n- **Secondary Color**: #2563EB (포커스 블루)\n\n## 3. 색상 & 그라데이션 (Color & Gradient)\n\n### 색상 팔레트\n- **Primary Color**: #1E2A38 (딥 네이비 - 메인 브랜드 컬러)\n- **Secondary Color**: #2563EB (포커스 블루 - 액센트 및 CTA)\n- **Background**: #F3F4F6 (라이트 그레이 - 메인 배경)\n- **Surface**: #FFFFFF (화이트 - 카드 및 컨테이너)\n- **Text Primary**: #1F2937 (다크 그레이 - 메인 텍스트)\n- **Text Secondary**: #9CA3AF (미드 그레이 - 보조 텍스트)\n- **Success**: #10B981 (그린 - 완료 상태)\n- **Warning**: #F59E0B (앰버 - 주의 상태)\n- **Error**: #EF4444 (레드 - 오류 상태)\n\n### 무드\n- **톤**: 차가운 톤, 낮은 채도\n- **특성**: 안정적이고 집중을 돕는 색상 조합\n\n### 색상 사용 우선순위\n1. **Primary (#1E2A38)**: 헤더, 네비게이션, 주요 브랜딩 요소\n2. **Secondary (#2563EB)**: 버튼, 링크, 활성 상태, 진행률 표시\n3. **Background (#F3F4F6)**: 메인 배경, 구분선\n4. **Surface (#FFFFFF)**: 카드, 모달, 입력 필드\n5. **Text Colors**: 가독성을 위한 계층적 텍스트 표현\n\n## 4. 타이포그래피 & 폰트 (Typography & Font)\n\n### 폰트 패밀리\n- **기본 폰트**: Inter (웹폰트)\n- **대체 폰트**: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif\n\n### 타이포그래피 스케일\n- **Heading 1**: Inter, 32px, Font Weight 700, Line Height 1.2\n- **Heading 2**: Inter, 24px, Font Weight 600, Line Height 1.3\n- **Heading 3**: Inter, 20px, Font Weight 600, Line Height 1.4\n- **Body Large**: Inter, 18px, Font Weight 400, Line Height 1.6\n- **Body**: Inter, 16px, Font Weight 400, Line Height 1.5\n- **Body Small**: Inter, 14px, Font Weight 400, Line Height 1.4\n- **Caption**: Inter, 12px, Font Weight 400, Line Height 1.3\n\n### 특수 용도\n- **Button Text**: Inter, 16px, Font Weight 500\n- **Input Label**: Inter, 14px, Font Weight 500\n- **Navigation**: Inter, 15px, Font Weight 500\n\n## 5. 레이아웃 & 구조 (Layout & Structure)\n\n### 그리드 시스템\n- **데스크톱**: 12컬럼 그리드, 최대 너비 1440px\n- **태블릿**: 8컬럼 그리드, 768px~1023px\n- **모바일**: 4컬럼 그리드, 320px~767px\n\n### 레이아웃 구조\n1. **Topbar**: 고정 상단 네비게이션 (높이 64px)\n2. **사이드패널**: 접힘 가능한 미니 캘린더 패널 (너비 280px)\n3. **메인 콘텐츠**: 중앙 작업 영역\n4. **플로팅 요소**: 빠른 액션 버튼, 타이머 위젯\n\n### 간격 시스템\n- **기본 간격 단위**: 8px\n- **컴포넌트 간격**: 16px, 24px, 32px, 48px\n- **섹션 간격**: 64px, 80px\n\n## 6. 비주얼 스타일 (Visual Style)\n\n### 아이콘 스타일\n- **라이브러리**: Lucide React\n- **스타일**: 라인 아이콘, 1.5px stroke width\n- **크기**: 16px (small), 20px (medium), 24px (large)\n\n### 이미지 스타일\n- **일러스트레이션**: 미니멀하고 기하학적인 형태\n- **사진**: 높은 품질, 자연스러운 색감\n- **차트/그래프**: 데이터 시각화는 브랜드 컬러 기반\n\n### 그림자 & 깊이\n- **카드 그림자**: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06)\n- **모달 그림자**: 0 20px 25px rgba(0,0,0,0.1), 0 10px 10px rgba(0,0,0,0.04)\n- **버튼 호버**: 0 4px 6px rgba(0,0,0,0.1)\n\n## 7. UX 가이드 (UX Guide)\n\n### 타겟 사용자 대응\n- **전문가 사용자**: 키보드 단축키 (⌘+K 빠른 입력), 고급 설정 옵션\n- **초보자 사용자**: 온보딩 튜토리얼, 툴팁, 가이드 메시지\n\n### UX 원칙\n1. **즉시성**: 60초 내 첫 타임박스 생성 가능\n2. **일관성**: 데스크톱-모바일 간 동일한 사용 패턴\n3. **피드백**: 모든 액션에 대한 명확한 상태 표시\n4. **접근성**: WCAG 2.1 AA 레벨 준수\n5. **성능**: 3초 내 페이지 로딩\n\n### 인터랙션 패턴\n- **드래그 앤 드롭**: 타임박스 생성 및 수정\n- **제스처**: 모바일에서 스와이프로 완료/삭제\n- **키보드 네비게이션**: Tab, Enter, Escape 지원\n\n## 8. UI 컴포넌트 가이드 (UI Component Guide)\n\n### 버튼 (Buttons)\n```\nPrimary Button:\n- 배경: #2563EB\n- 텍스트: #FFFFFF\n- 패딩: 12px 24px\n- Border Radius: 8px\n- Hover: #1D4ED8\n\nSecondary Button:\n- 배경: transparent\n- 텍스트: #2563EB\n- 테두리: 1px solid #2563EB\n- 패딩: 12px 24px\n- Border Radius: 8px\n\nGhost Button:\n- 배경: transparent\n- 텍스트: #6B7280\n- Hover 배경: #F3F4F6\n```\n\n### 입력 필드 (Input Fields)\n```\n기본 Input:\n- 높이: 44px\n- 패딩: 12px 16px\n- 테두리: 1px solid #D1D5DB\n- Border Radius: 8px\n- Focus: 테두리 #2563EB, Shadow 0 0 0 3px rgba(37,99,235,0.1)\n\nLabel:\n- 폰트: Inter 14px, Weight 500\n- 색상: #374151\n- 마진: 0 0 6px 0\n```\n\n### 카드 (Cards)\n```\n기본 Card:\n- 배경: #FFFFFF\n- 테두리: 1px solid #E5E7EB\n- Border Radius: 12px\n- 패딩: 24px\n- 그림자: 0 1px 3px rgba(0,0,0,0.1)\n\n타임박스 Card:\n- 높이: 최소 60px\n- 좌측 컬러 바: 4px 너비, 카테고리별 색상\n- 호버: 그림자 강화, 약간의 상승 효과\n```\n\n### 네비게이션 (Navigation)\n```\nTopbar:\n- 높이: 64px\n- 배경: #1E2A38\n- 텍스트: #FFFFFF\n- 로고 + 검색바 + 사용자 메뉴\n\n사이드패널:\n- 너비: 280px (확장), 64px (축소)\n- 배경: #FFFFFF\n- 테두리: 1px solid #E5E7EB\n- 토글 애니메이션: 0.3s ease-in-out\n```\n\n### 타이머 위젯 (Timer Widget)\n```\n풀스크린 타이머:\n- 배경: #1E2A38 (다크 모드)\n- 메인 시간: 48px, #FFFFFF\n- 진행률 링: #2563EB\n- 컨트롤 버튼: 56px 크기, 원형\n```\n\n### 리포트 차트 (Report Charts)\n```\n막대 그래프:\n- Primary 바: #2563EB\n- Secondary 바: #93C5FD\n- 배경 그리드: #F3F4F6\n- 라벨: Inter 12px, #6B7280\n\n완료율 도넛 차트:\n- 완료: #10B981\n- 미완료: #E5E7EB\n- 중앙 텍스트: 24px, #1F2937\n```\n\n### 알림 & 토스트 (Notifications & Toasts)\n```\n성공 토스트:\n- 배경: #10B981\n- 텍스트: #FFFFFF\n- 아이콘: CheckCircle\n- 지속시간: 3초\n\n오류 토스트:\n- 배경: #EF4444\n- 텍스트: #FFFFFF\n- 아이콘: XCircle\n- 지속시간: 5초\n```\n\n### 모바일 특화 컴포넌트\n```\n하단 액션바:\n- 높이: 80px\n- 배경: #FFFFFF\n- 그림자: 0 -2px 10px rgba(0,0,0,0.1)\n- 주요 액션 버튼 중앙 배치\n\n스와이프 액션:\n- 완료: 우측 스와이프, 녹색 배경\n- 삭제: 좌측 스와이프, 빨간색 배경\n- 임계점: 화면 너비의 30%\n```",
      "writedAt": "2026-01-08T02:40:30.460Z"
    },
    {
      "type": "ia",
      "content": "# 타임박스 집중 관리 서비스 Information Architecture (IA)\n\n## 1. 사이트맵 (사이트맵)\n\n```\n홈 (/)\n├── 인증 (/auth)\n│   ├── 로그인 (/auth/login)\n│   ├── 회원가입 (/auth/signup)\n│   └── 비밀번호 재설정 (/auth/reset-password)\n├── 대시보드 (/dashboard) [인증 필요]\n│   ├── 오늘 일정 (/dashboard/today)\n│   ├── 주간 보기 (/dashboard/week)\n│   └── 월간 보기 (/dashboard/month)\n├── 타이머 (/timer) [인증 필요]\n│   ├── 집중 모드 (/timer/focus)\n│   └── 휴식 모드 (/timer/break)\n├── 리포트 (/reports) [인증 필요]\n│   ├── 일일 리포트 (/reports/daily)\n│   ├── 주간 리포트 (/reports/weekly)\n│   └── 월간 리포트 (/reports/monthly)\n├── 설정 (/settings) [인증 필요]\n│   ├── 프로필 (/settings/profile)\n│   ├── 알림 설정 (/settings/notifications)\n│   ├── 타이머 설정 (/settings/timer)\n│   └── 계정 관리 (/settings/account)\n└── 고객 지원 (/support)\n    ├── 도움말 (/support/help)\n    ├── 튜토리얼 (/support/tutorial)\n    └── 문의하기 (/support/contact)\n```\n\n## 2. 사용자 흐름 (사용자 흐름)\n\n### **주요 작업: 첫 타임박스 생성 및 실행**\n1. 사용자가 홈페이지 방문\n2. '시작하기' 버튼 클릭\n3. 회원가입 페이지로 이동\n4. 이메일, 비밀번호 입력 후 가입\n5. 온보딩 튜토리얼 (60초 가이드)\n6. 대시보드/오늘 일정 페이지로 자동 이동\n7. 드래그 앤 드롭 또는 '+ 타임박스 추가' 버튼 클릭\n8. 시간대, 작업명, 카테고리 입력\n9. 타임박스 생성 완료\n10. 시작 시간 5분 전 알림 수신 (모바일/데스크톱)\n11. 타이머 페이지에서 집중 모드 시작\n12. 작업 완료 후 '완료' 버튼 클릭\n\n### **주요 작업: 일일 리포트 확인**\n1. 대시보드에서 '오늘의 성과' 섹션 확인\n2. '자세한 리포트 보기' 클릭\n3. 리포트/일일 리포트 페이지로 이동\n4. 완료율, 집중 시간, 휴식 패턴 그래프 확인\n5. 개선 제안사항 및 다음날 목표 설정\n\n### **주요 작업: 모바일에서 타이머 사용**\n1. 모바일 브라우저에서 서비스 접속\n2. PWA 설치 안내 (선택사항)\n3. 대시보드에서 현재 진행 중인 타임박스 확인\n4. '타이머 시작' 버튼 탭\n5. 풀스크린 타이머 모드 진입\n6. 집중 시간 동안 진행률 실시간 확인\n7. 종료 알림 및 휴식 시간 안내\n8. 완료 체크 또는 연장 선택\n\n## 3. 네비게이션 구조 (네비게이션 구조)\n\n### **글로벌 네비게이션 바 (GNB) - Topbar**\n- **위치**: 화면 상단 고정 (높이 64px)\n- **배경색**: #1E2A38 (딥 네이비)\n- **구성 요소**:\n  - 좌측: 로고 + 서비스명\n  - 중앙: 빠른 검색바 (타임박스 검색)\n  - 우측: 알림 아이콘 + 사용자 프로필 드롭다운\n\n### **사이드 패널 네비게이션**\n- **위치**: 좌측 패널 (너비 280px, 축소 시 64px)\n- **구성 요소**:\n  - 미니 캘린더 위젯\n  - 주요 메뉴 아이콘 + 텍스트\n    - 대시보드 (홈 아이콘)\n    - 타이머 (시계 아이콘)\n    - 리포트 (차트 아이콘)\n    - 설정 (톱니바퀴 아이콘)\n  - 접기/펼치기 토글 버튼\n\n### **모바일 네비게이션**\n- **하단 탭 바**: 주요 4개 메뉴 (대시보드, 타이머, 리포트, 설정)\n- **햄버거 메뉴**: 추가 기능 및 고객 지원 메뉴\n\n### **푸터 네비게이션**\n- **위치**: 페이지 하단\n- **구성 요소**: 개인정보처리방침, 이용약관, 고객센터, 회사 정보\n\n## 4. 페이지 계층 구조 (페이지 계층 구조)\n\n```\n/ (깊이 1 - 루트)\n├── /auth (깊이 2 - 인증)\n│   ├── /auth/login (깊이 3)\n│   ├── /auth/signup (깊이 3)\n│   └── /auth/reset-password (깊이 3)\n├── /dashboard (깊이 2 - 메인 작업 공간)\n│   ├── /dashboard/today (깊이 3)\n│   ├── /dashboard/week (깊이 3)\n│   └── /dashboard/month (깊이 3)\n├── /timer (깊이 2 - 타이머 기능)\n│   ├── /timer/focus (깊이 3)\n│   └── /timer/break (깊이 3)\n├── /reports (깊이 2 - 분석 및 리포트)\n│   ├── /reports/daily (깊이 3)\n│   ├── /reports/weekly (깊이 3)\n│   └── /reports/monthly (깊이 3)\n├── /settings (깊이 2 - 사용자 설정)\n│   ├── /settings/profile (깊이 3)\n│   ├── /settings/notifications (깊이 3)\n│   ├── /settings/timer (깊이 3)\n│   └── /settings/account (깊이 3)\n└── /support (깊이 2 - 고객 지원)\n    ├── /support/help (깊이 3)\n    ├── /support/tutorial (깊이 3)\n    └── /support/contact (깊이 3)\n```\n\n## 5. 콘텐츠 구성 (콘텐츠 구성)\n\n| 페이지 | 주요 콘텐츠 요소 |\n|---|---|\n| 홈 (/) | 히어로 섹션, 핵심 기능 소개, 사용법 3단계, CTA 버튼, 사용자 후기 |\n| 로그인 (/auth/login) | 로그인 폼, 소셜 로그인 버튼, 비밀번호 찾기 링크 |\n| 회원가입 (/auth/signup) | 가입 폼, 이용약관 동의, 이메일 인증 안내 |\n| 대시보드 - 오늘 (/dashboard/today) | 타임라인 뷰, 타임박스 카드, 진행률 표시, 빠른 추가 버튼 |\n| 대시보드 - 주간 (/dashboard/week) | 주간 캘린더 그리드, 일별 완료율, 주간 목표 설정 |\n| 타이머 - 집중 (/timer/focus) | 원형 타이머, 현재 작업명, 진행률 바, 일시정지/중단 버튼 |\n| 타이머 - 휴식 (/timer/break) | 휴식 타이머, 휴식 활동 제안, 다음 작업 미리보기 |\n| 일일 리포트 (/reports/daily) | 완료율 도넛 차트, 시간대별 집중도 그래프, 성과 요약 |\n| 주간 리포트 (/reports/weekly) | 일별 완료율 막대 그래프, 주간 트렌드, 개선 제안 |\n| 프로필 설정 (/settings/profile) | 사용자 정보 폼, 아바타 업로드, 목표 설정 |\n| 알림 설정 (/settings/notifications) | 알림 유형별 ON/OFF 토글, 알림 시간 설정, 테스트 버튼 |\n\n## 6. 인터랙션 패턴 (인터랙션 패턴)\n\n### **데이터 입력 패턴**\n- **드래그 앤 드롭**: 타임박스 생성 및 시간 조정\n- **자연어 입력**: \"오후 2시부터 3시까지 회의\" 형태의 빠른 입력\n- **인라인 편집**: 타임박스 제목 더블클릭으로 즉시 수정\n\n### **피드백 패턴**\n- **토스트 알림**: 성공/오류 메시지 (3-5초 자동 사라짐)\n- **진행률 표시**: 실시간 타이머 진행률, 일일/주간 목표 달성률\n- **상태 표시**: 타임박스 상태 (예정/진행중/완료/건너뜀)\n\n### **확인 패턴**\n- **모달 다이얼로그**: 중요한 작업 삭제 시 확인\n- **스와이프 액션**: 모바일에서 완료/삭제 제스처\n- **더블 탭**: 빠른 완료 체크\n\n### **도움말 패턴**\n- **툴팁**: 아이콘 호버 시 기능 설명\n- **온보딩 오버레이**: 첫 방문 시 주요 기능 하이라이트\n- **빈 상태 안내**: 타임박스가 없을 때 생성 가이드\n\n## 7. URL 구조 (URL 구조)\n\n### **URL 명명 규칙**\n- **일반 리소스**: `/resource-name` (소문자, 하이픈 구분)\n- **상세 페이지**: `/resource-name/:id` (동적 파라미터)\n- **하위 카테고리**: `/parent/child` (계층 구조 반영)\n- **날짜 기반**: `/reports/daily/:date` (YYYY-MM-DD 형식)\n\n### **구체적인 URL 예시**\n```\n/ - 홈페이지\n/auth/login - 로그인\n/auth/signup - 회원가입\n/dashboard/today - 오늘 대시보드\n/dashboard/week/:date - 특정 주 대시보드 (2024-01-15)\n/timer/focus/:timeboxId - 특정 타임박스 집중 모드\n/reports/weekly/:week - 주간 리포트 (2024-W03)\n/settings/notifications - 알림 설정\n/support/tutorial - 튜토리얼\n```\n\n### **SEO 최적화 고려사항**\n- 의미있는 키워드 포함 (timer, focus, productivity)\n- 일관된 구조로 크롤링 용이성 확보\n- 사이트맵.xml 자동 생성 지원\n\n## 8. 컴포넌트 계층 구조 (컴포넌트 계층 구조)\n\n### **글로벌 컴포넌트**\n- **Header**: 로고, 검색바, 사용자 메뉴\n- **Sidebar**: 네비게이션 메뉴, 미니 캘린더\n- **Footer**: 링크, 저작권 정보\n- **Toast**: 알림 메시지 표시\n- **Modal**: 확인 다이얼로그, 설정 팝업\n\n### **레이아웃 컴포넌트**\n- **AppLayout**: 전체 앱 레이아웃 (Header + Sidebar + Main)\n- **AuthLayout**: 인증 페이지 전용 레이아웃\n- **TimerLayout**: 풀스크린 타이머 레이아웃\n- **ReportLayout**: 리포트 페이지 레이아웃\n\n### **비즈니스 컴포넌트**\n- **TimeboxCard**: 개별 타임박스 표시 카드\n- **TimerWidget**: 원형 타이머 위젯\n- **ProgressChart**: 진행률 차트 (도넛, 막대)\n- **CalendarGrid**: 주간/월간 캘린더 그리드\n- **QuickAddForm**: 빠른 타임박스 추가 폼\n\n### **폼 컴포넌트**\n- **TimeboxForm**: 타임박스 생성/편집 폼\n- **ProfileForm**: 사용자 프로필 편집 폼\n- **SettingsForm**: 각종 설정 폼\n- **LoginForm**: 로그인 폼\n- **SignupForm**: 회원가입 폼\n\n### **UI 기본 컴포넌트**\n- **Button**: Primary, Secondary, Ghost 버튼\n- **Input**: 텍스트, 이메일, 비밀번호 입력\n- **Select**: 드롭다운 선택\n- **Toggle**: ON/OFF 스위치\n- **DatePicker**: 날짜 선택기\n- **TimePicker**: 시간 선택기\n\n### **모바일 특화 컴포넌트**\n- **BottomTabBar**: 하단 탭 네비게이션\n- **SwipeAction**: 스와이프 액션 래퍼\n- **PullToRefresh**: 당겨서 새로고침\n- **FloatingActionButton**: 플로팅 액션 버튼\n\n### **컴포넌트 재사용 우선순위**\n1. **높은 재사용성**: Button, Input, Modal, Toast\n2. **중간 재사용성**: TimeboxCard, ProgressChart, CalendarGrid\n3. **낮은 재사용성**: TimerWidget, 페이지별 전용 폼\n\n### **상태 관리 패턴**\n- **전역 상태**: 사용자 인증, 타임박스 데이터, 설정\n- **로컬 상태**: 폼 입력, UI 상태 (모달 열림/닫힘)\n- **서버 상태**: API 데이터 캐싱 및 동기화",
      "writedAt": "2026-01-08T02:40:30.460Z"
    },
    {
      "type": "step-by-step",
      "content": "\n## Core Directive\nYou are a senior software engineer AI assistant. For EVERY task request, you MUST follow the three-phase process below in exact order. Each phase must be completed with expert-level precision and detail.\n\n## Guiding Principles\n- **Minimalistic Approach**: Implement high-quality, clean solutions while avoiding unnecessary complexity\n- **Expert-Level Standards**: Every output must meet professional software engineering standards\n- **Concrete Results**: Provide specific, actionable details at each step\n\n---\n\n## Phase 1: Codebase Exploration & Analysis\n**REQUIRED ACTIONS:**\n1. **Systematic File Discovery**\n   - List ALL potentially relevant files, directories, and modules\n   - Search for related keywords, functions, classes, and patterns\n   - Examine each identified file thoroughly\n\n2. **Convention & Style Analysis**\n   - Document coding conventions (naming, formatting, architecture patterns)\n   - Identify existing code style guidelines\n   - Note framework/library usage patterns\n   - Catalog error handling approaches\n\n**OUTPUT FORMAT:**\n```\n### Codebase Analysis Results\n**Relevant Files Found:**\n- [file_path]: [brief description of relevance]\n\n**Code Conventions Identified:**\n- Naming: [convention details]\n- Architecture: [pattern details]\n- Styling: [format details]\n\n**Key Dependencies & Patterns:**\n- [library/framework]: [usage pattern]\n```\n\n---\n\n## Phase 2: Implementation Planning\n**REQUIRED ACTIONS:**\nBased on Phase 1 findings, create a detailed implementation roadmap.\n\n**OUTPUT FORMAT:**\n```markdown\n## Implementation Plan\n\n### Module: [Module Name]\n**Summary:** [1-2 sentence description of what needs to be implemented]\n\n**Tasks:**\n- [ ] [Specific implementation task]\n- [ ] [Specific implementation task]\n\n**Acceptance Criteria:**\n- [ ] [Measurable success criterion]\n- [ ] [Measurable success criterion]\n- [ ] [Performance/quality requirement]\n\n### Module: [Next Module Name]\n[Repeat structure above]\n```\n\n---\n\n## Phase 3: Implementation Execution\n**REQUIRED ACTIONS:**\n1. Implement each module following the plan from Phase 2\n2. Verify ALL acceptance criteria are met before proceeding\n3. Ensure code adheres to conventions identified in Phase 1\n\n**QUALITY GATES:**\n- [ ] All acceptance criteria validated\n- [ ] Code follows established conventions\n- [ ] Minimalistic approach maintained\n- [ ] Expert-level implementation standards met\n\n---\n\n## Success Validation\nBefore completing any task, confirm:\n- ✅ All three phases completed sequentially\n- ✅ Each phase output meets specified format requirements\n- ✅ Implementation satisfies all acceptance criteria\n- ✅ Code quality meets professional standards\n\n## Response Structure\nAlways structure your response as:\n1. **Phase 1 Results**: [Codebase analysis findings]\n2. **Phase 2 Plan**: [Implementation roadmap]  \n3. **Phase 3 Implementation**: [Actual code with validation]\n",
      "writedAt": "2026-01-08T02:40:30.460Z"
    },
    {
      "type": "clean-code",
      "content": "\n# Clean Code Guidelines\n\nYou are an expert software engineer focused on writing clean, maintainable code. Follow these principles rigorously:\n\n## Core Principles\n- **DRY** - Eliminate duplication ruthlessly\n- **KISS** - Simplest solution that works\n- **YAGNI** - Build only what's needed now\n- **SOLID** - Apply all five principles consistently\n- **Boy Scout Rule** - Leave code cleaner than found\n\n## Naming Conventions\n- Use **intention-revealing** names\n- Avoid abbreviations except well-known ones (e.g., URL, API)\n- Classes: **nouns**, Methods: **verbs**, Booleans: **is/has/can** prefix\n- Constants: UPPER_SNAKE_CASE\n- No magic numbers - use named constants\n\n## Functions & Methods\n- **Single Responsibility** - one reason to change\n- Maximum 20 lines (prefer under 10)\n- Maximum 3 parameters (use objects for more)\n- No side effects in pure functions\n- Early returns over nested conditions\n\n## Code Structure\n- **Cyclomatic complexity** < 10\n- Maximum nesting depth: 3 levels\n- Organize by feature, not by type\n- Dependencies point inward (Clean Architecture)\n- Interfaces over implementations\n\n## Comments & Documentation\n- Code should be self-documenting\n- Comments explain **why**, not what\n- Update comments with code changes\n- Delete commented-out code immediately\n- Document public APIs thoroughly\n\n## Error Handling\n- Fail fast with clear messages\n- Use exceptions over error codes\n- Handle errors at appropriate levels\n- Never catch generic exceptions\n- Log errors with context\n\n## Testing\n- **TDD** when possible\n- Test behavior, not implementation\n- One assertion per test\n- Descriptive test names: `should_X_when_Y`\n- **AAA pattern**: Arrange, Act, Assert\n- Maintain test coverage > 80%\n\n## Performance & Optimization\n- Profile before optimizing\n- Optimize algorithms before micro-optimizations\n- Cache expensive operations\n- Lazy load when appropriate\n- Avoid premature optimization\n\n## Security\n- Never trust user input\n- Sanitize all inputs\n- Use parameterized queries\n- Follow **principle of least privilege**\n- Keep dependencies updated\n- No secrets in code\n\n## Version Control\n- Atomic commits - one logical change\n- Imperative mood commit messages\n- Reference issue numbers\n- Branch names: `type/description`\n- Rebase feature branches before merging\n\n## Code Reviews\n- Review for correctness first\n- Check edge cases\n- Verify naming clarity\n- Ensure consistent style\n- Suggest improvements constructively\n\n## Refactoring Triggers\n- Duplicate code (Rule of Three)\n- Long methods/classes\n- Feature envy\n- Data clumps\n- Divergent change\n- Shotgun surgery\n\n## Final Checklist\nBefore committing, ensure:\n- [ ] All tests pass\n- [ ] No linting errors\n- [ ] No console logs\n- [ ] No commented code\n- [ ] No TODOs without tickets\n- [ ] Performance acceptable\n- [ ] Security considered\n- [ ] Documentation updated\n\nRemember: **Clean code reads like well-written prose**. Optimize for readability and maintainability over cleverness.\n",
      "writedAt": "2026-01-08T02:40:30.460Z"
    }
  ]
}